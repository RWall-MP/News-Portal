from Portal.models import *
User.objects.create_user('Ivan')
User.objects.create_user('Boris')
Author.objects.create(user=User.objects.get(id=1))
Author.objects.create(user=User.objects.get(id=2))
Category.objects.create(category_name='Спорт')
Category.objects.create(category_name='Политика')
Category.objects.create(category_name='Образование')
Category.objects.create(category_name='Бизнес')
Post.objects.create(author=Author.objects.get(id=1), type='Post', title='Название первой статьи', text='Текст первой статьи')
Post.objects.create(author=Author.objects.get(id=2), type='Post', title='Название второй статьи', text='Текст второй статьи')
Post.objects.create(author=Author.objects.get(id=1), type='News', title='Название первой новости', text='Текст первой новости')
PostCategory.objects.create(post=Post.objects.get(id=1), category = Category.objects.get(id=1))
PostCategory.objects.create(post=Post.objects.get(id=2), category = Category.objects.get(id=2))
PostCategory.objects.create(post=Post.objects.get(id=3), category = Category.objects.get(id=3))
PostCategory.objects.create(post=Post.objects.get(id=3), category = Category.objects.get(id=4))
user_ivan = User.objects.get(id=1)
user_boris = User.objects.get(id=2)
post1_from_ivan = Post.objects.get(id=1)
news1_from_ivan = Post.objects.get(id=3)
post1_from_boris = Post.objects.get(id=2)
Comment.objects.create(post=post1_from_ivan, user=user_boris, text='Хороший пост!')
Comment.objects.create(post=post1_from_ivan, user=user_ivan, text='Спасибо!')
Comment.objects.create(post=news1_from_ivan, user=user_ivan, text='Как вам новость?')
Comment.objects.create(post=post1_from_boris, user=user_boris, text='Где мои лайки?')
Comment.objects.get(id=1).like()
Comment.objects.get(id=2).like()
Comment.objects.get(id=4).dislike()
Post.objects.get(id=1).like()
Author.objects.get(id=1).update_rating()
Author.objects.get(id=2).update_rating()
Author.objects.order_by('-rating').values('user_id__username' ,'rating')[0]
Post.objects.order_by('-rating').values('time_in', 'author_id__user_id__username', 'rating', 'title')[0]
Post.objects.order_by('-rating')[0].preview()
Comment.objects.filter(post_id=1).values('time_in', 'user_id__username', 'rating', 'text')

